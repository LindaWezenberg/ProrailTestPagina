<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <title>ControlePagina</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f3f3f3;
      color: #333;
      text-align: center;
    }

    nav {
      background-color: #E2001A;
      color: white;
      padding: 15px;
      font-size: 22px;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    nav a {
      color: white;
      text-decoration: none;
      margin-left: 20px;
    }
    nav a:hover { text-decoration: underline; }

    .container {
      max-width: 900px;
      margin: 30px auto;
      padding: 25px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    img {
      width: 320px;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.25);
      margin-bottom: 20px;
    }

    input, button {
      padding: 12px;
      margin: 10px;
      font-size: 18px;
      border-radius: 8px;
      border: 1px solid #aaa;
    }

    button {
      background-color: #E2001A;
      color: white;
      border: none;
      cursor: pointer;
      user-select: none;
    }

    #output {
      margin-top: 10px;
      font-size: 22px;
      font-weight: bold;
      min-height: 30px;
    }

    #checkResult, #doubleResult {
      font-size: 20px;
      margin-top: 15px;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <nav>
    <div>ProRail Testomgeving</div>
    <div>
      <a href="index.html">Home</a>
      <a href="onderliggende_pagina.html">Onderliggende pagina</a>
    </div>
  </nav>

  <div class="container">
    <h2>Controlepagina – Onderliggende Pagina</h2>

    <img src="https://upload.wikimedia.org/wikipedia/commons/4/49/Koala_climbing_tree.jpg" alt="Koala">

    <h3>Typ iets</h3>
    <input type="text" id="textInput" placeholder="Typ hier...">
    <div id="output" aria-live="polite"></div>

    <h3>Check button (alleen rechtermuisklik!)</h3>
    <!-- extra oncontextmenu attribute als backup -->
    <button id="checkBtn" oncontextmenu="return false;">Check</button>
    <p id="checkResult" role="status"></p>

    <h3>Dubbelklik-knop</h3>
    <button id="doubleBtn">Dubbelklik op mij</button>
    <p id="doubleResult" role="status"></p>

    <br><br>
    <a href="index.html">⬅️ Terug naar hoofdpagina</a>
  </div>

  <script>
    // wacht tot DOM klaar is
    document.addEventListener('DOMContentLoaded', () => {
      const textInput = document.getElementById('textInput');
      const output = document.getElementById('output');

      const checkBtn = document.getElementById('checkBtn');
      const checkResult = document.getElementById('checkResult');

      const doubleBtn = document.getElementById('doubleBtn');
      const doubleResult = document.getElementById('doubleResult');

      // live tekst spiegeling
      textInput.addEventListener('input', () => {
        output.textContent = textInput.value;
      });

      // --- Rechtermuisklik handler (robust) ---
      function doCheckAction() {
        checkResult.style.color = 'green';
        checkResult.textContent = '✔️ Rechtermuisklik gedetecteerd! Check uitgevoerd.';
      }

      // contextmenu event — verhindert standaardmenu en stopt verdere handlers
      checkBtn.addEventListener('contextmenu', function(e) {
        // alleen handelen als de event target daadwerkelijk de knop is
        if (e.target === checkBtn) {
          e.preventDefault();               // voorkomt standaard contextmenu
          e.stopImmediatePropagation();     // voorkomt dat andere handlers het nog overschrijven
          doCheckAction();
        }
      }, { passive: false });

      // linkermuisklik op knop blokkeren en instructie tonen
      checkBtn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopImmediatePropagation();
        checkResult.style.color = 'red';
        checkResult.textContent = '❌ Gebruik een *rechtermuisklik* om te checken!';
      });

      // --- Dubbelklik handler (robust) ---
      doubleBtn.addEventListener('dblclick', function(e) {
        // voorkom dat dubbele clicks ook een enkel-klik handler "overrulen" onbedoeld
        e.preventDefault();
        e.stopImmediatePropagation();
        doubleResult.style.color = 'blue';
        doubleResult.textContent = '✔️ Dubbelklik gedetecteerd!';
      });

      // voorkomen dat enkele klik de bedoeling is
      doubleBtn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopImmediatePropagation();
        doubleResult.style.color = 'red';
        doubleResult.textContent = '❌ Dubbelklik vereist!';
      });

      // Extra debug: als gebruiker per ongeluk buiten de knop rechtsklikt,
      // laat standaard contextmenu intact (we blokkeren alleen op de knop).
      // (Geen global contextmenu prevent, dus navigatie-menu blijft mogelijk buiten knop.)
    });
  </script>

</body>
</html>
