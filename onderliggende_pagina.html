<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <title>ControlePagina</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f3f3f3;
      color: #333;
      text-align: center;
    }

    nav {
      background-color: #E2001A;
      color: white;
      padding: 15px;
      font-size: 22px;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    nav a {
      color: white;
      text-decoration: none;
      margin-left: 20px;
    }
    nav a:hover { text-decoration: underline; }

    .container {
      max-width: 900px;
      margin: 30px auto;
      padding: 25px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    img {
      width: 320px;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.25);
      margin-bottom: 20px;
    }

    input, button {
      padding: 12px;
      margin: 10px;
      font-size: 18px;
      border-radius: 8px;
      border: 1px solid #aaa;
    }

    button {
      background-color: #E2001A;
      color: white;
      border: none;
      cursor: pointer;
      user-select: none;
    }

    #output {
      margin-top: 10px;
      font-size: 22px;
      font-weight: bold;
      min-height: 30px;
    }

    #checkResult, #doubleResult {
      font-size: 20px;
      margin-top: 15px;
      font-weight: bold;
    }

    /* Rekenmachine velden */
    #calcOutput {
      background: #eee;
      font-weight: bold;
      width: 200px;
    }

    .calcBtn {
      width: 55px;
    }
  </style>
</head>
<body>

  <nav>
    <div>ProRail Testomgeving</div>
    <div>
      <a href="index.html">Home</a>
      <a href="onderliggende_pagina.html">Onderliggende pagina</a>
    </div>
  </nav>

  <div class="container">
    <h2>Controlepagina – Onderliggende Pagina</h2>

    <img src="https://upload.wikimedia.org/wikipedia/commons/4/49/Koala_climbing_tree.jpg" alt="Koala">

    <h3>Typ iets</h3>
    <input type="text" id="textInput" placeholder="Typ hier...">
    <div id="output" aria-live="polite"></div>

    <h3>Check button (alleen rechtermuisklik!)</h3>
    <button id="checkBtn" oncontextmenu="return false;">Check</button>
    <p id="checkResult" role="status"></p>

    <h3>Dubbelklik-knop</h3>
    <button id="doubleBtn">Dubbelklik op mij</button>
    <p id="doubleResult" role="status"></p>

    <hr>

    <h3>Rekenmachine</h3>

    <input type="text" id="calcInput" placeholder="Typ een som, bijv. 10+10">
    <input type="text" id="calcOutput" placeholder="Uitkomst" readonly>
    <br>

    <button class="calcBtn" data-val="1">1</button>
    <button class="calcBtn" data-val="2">2</button>
    <button class="calcBtn" data-val="3">3</button>
    <button class="calcBtn" data-val="+">+</button>
    <br>

    <button class="calcBtn" data-val="4">4</button>
    <button class="calcBtn" data-val="5">5</button>
    <button class="calcBtn" data-val="6">6</button>
    <button class="calcBtn" data-val="-">-</button>
    <br>

    <button class="calcBtn" data-val="7">7</button>
    <button class="calcBtn" data-val="8">8</button>
    <button class="calcBtn" data-val="9">9</button>
    <button class="calcBtn" data-val="*">*</button>
    <br>

    <button class="calcBtn" data-val="0">0</button>
    <button class="calcBtn" data-val="/">/</button>
    <button id="calcClear">C</button>

    <br><br>
    <a href="index.html">⬅️ Terug naar hoofdpagina</a>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {

      // ======================
      // Live tekstweergave
      // ======================
      const textInput = document.getElementById('textInput');
      const output = document.getElementById('output');

      textInput.addEventListener('input', () => {
        output.textContent = textInput.value;
      });

      // ======================
      // Rechterklik-knop
      // ======================
      const checkBtn = document.getElementById('checkBtn');
      const checkResult = document.getElementById('checkResult');

      function doCheckAction() {
        checkResult.style.color = 'green';
        checkResult.textContent = '✔️ Rechtermuisklik gedetecteerd! Check uitgevoerd.';
      }

      checkBtn.addEventListener('contextmenu', function(e) {
        if (e.target === checkBtn) {
          e.preventDefault();
          e.stopImmediatePropagation();
          doCheckAction();
        }
      }, { passive: false });

      checkBtn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopImmediatePropagation();
        checkResult.style.color = 'red';
        checkResult.textContent = '❌ Gebruik een *rechtermuisklik* om te checken!';
      });

      // ======================
      // Dubbelklik-knop
      // ======================
      const doubleBtn = document.getElementById('doubleBtn');
      const doubleResult = document.getElementById('doubleResult');

      doubleBtn.addEventListener('dblclick', function(e) {
        e.preventDefault();
        e.stopImmediatePropagation();
        doubleResult.style.color = 'blue';
        doubleResult.textContent = '✔️ Dubbelklik gedetecteerd!';
      });

      doubleBtn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopImmediatePropagation();
        doubleResult.style.color = 'red';
        doubleResult.textContent = '❌ Dubbelklik vereist!';
      });

      // ======================
      // Rekenmachine
      // ======================

      const calcInput = document.getElementById('calcInput');
      const calcOutput = document.getElementById('calcOutput');
      const calcButtons = document.querySelectorAll('.calcBtn');
      const calcClear = document.getElementById('calcClear');

      calcButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          calcInput.value += btn.dataset.val;
          calcInput.focus();
        });
      });

      calcClear.addEventListener('click', () => {
        calcInput.value = "";
        calcOutput.value = "";
        calcInput.focus();
      });

      function calculateExpression(expr) {
        try {
          if (!/^[0-9+\-*/().\s]+$/.test(expr)) return "✖";
          const result = Function("return (" + expr + ")")();
          return isFinite(result) ? result : "✖";
        } catch {
          return "✖";
        }
      }

      calcInput.addEventListener('keydown', e => {
        if (e.key === "Enter") {
          const result = calculateExpression(calcInput.value);
          calcOutput.value = result;
        }
      });

    });
  </script>

</body>
</html>
